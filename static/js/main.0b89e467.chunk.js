(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{230:function(e,t,a){e.exports=a(434)},235:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(15),i=a.n(l),c=(a(235),a(54)),o=a.n(c),s=a(78),u=a(25),m=a(26),y=a(28),f=a(27),h=a(29),d=a(103),p=a(53),v=a(484),g=a(481),E=a(482),b=a(483),_=a(104),k=a(480),w=a(479),j=a(473),O=a(11),C=a(43),K={country:"",entries:0,genderMale:0,genderFemale:0,genderUnknow:0,ageUp20:0,ageUp40:0,ageUp60:0,ageMore60:0,familyMentalIllness:0,treatment:0,dispose:0},M={country:"",wellness_program:0,mental_health_consequence:0},S={country:"",care_options:0,tech_company:0},x={country:"",benefits_yes:0,benefits_no:0,benefits_dontknow:0},U={country:"",mental_vs_physical_yes:0,mental_vs_physical_no:0,mental_vs_physical_dontknow:0},D={country:"",leave_easy:0,leave_very_easy:0,leave_difficult:0,leave_very_difficult:0,leave_dontknow:0},F=function(e){var t=[];for(var a in e){var n=e[a];t.push(Object(C.a)({},n))}return t},A=function(e){return"Yes"===e},I=function(){var e=Object(s.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://cartelito.s3.us-east-2.amazonaws.com/health_data.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log("Something broke while fetching data",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),T=function(e,t){var a={};e.forEach(function(e){var t=e.country,n=e.gender,r=e.age,l=e.family_history,i=e.treatment;a[t]||(a[t]=Object(C.a)({},K,{country:t}));var c=a[t];c.entries+=1,c[z(n)]+=1,c[Y(r)]+=1,c[B(l)]+=1,c[H(i)]+=1});var n=[];for(var r in a){var l=a[r];l.entries>t&&n.push(Object(C.a)({},l))}return n},z=function(e){switch(e.toLowerCase()){case"m":case"male":return"genderMale";case"f":case"female":return"genderFemale";default:return"genderUnknow"}},Y=function(e){return e>60?"ageMore60":e>40?"ageUp60":e>20?"ageUp40":"ageUp20"},B=function(e){return A(e)?"familyMentalIllness":"dispose"},H=function(e){return A(e)?"treatment":"dispose"},q=a(468),G=a(435),N=a(470),L=a(471),W=a(485),V=function(e){function t(){return Object(u.a)(this,t),Object(y.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,a=e.statuses,n=e.handleToggle;return r.a.createElement(q.a,null,t.map(function(e){var t=e.key,l=e.label,i=a[t],c="checkbox-list-label-".concat(t);return r.a.createElement(G.a,{key:"list-".concat(t),role:void 0,dense:!0,button:!0,onClick:function(){return n(t)}},r.a.createElement(N.a,null,r.a.createElement(W.a,{checked:i,tabIndex:-1,inputProps:{"aria-labelledby":c}})),r.a.createElement(L.a,{id:c,primary:l}))}))}}]),t}(r.a.Component),J=a(472),P=function(e){function t(){return Object(u.a)(this,t),Object(y.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.onUpdate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{className:"slider",value:t,min:0,max:45,step:3,onChange:function(e,t){return a(t)},style:{marginLeft:30}}),r.a.createElement("div",{style:{textAlign:"center"}},"Minimum entries: ",t))}}]),t}(r.a.Component),R=[{key:"entries",label:"Entries count"},{key:"age",label:"Age"},{key:"gender",label:"Gender"},{key:"familyHistory",label:"Family history of mental illnesses"},{key:"treatment",label:"Treatment sought for a mental health condition"}],$=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(y.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={dataChart:[],filters:{entries:!0,age:!0,gender:!0,treatment:!0,familyHistory:!0},minEntries:42},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleToggle",value:function(e){var t=this.state.filters;t[e]=!t[e],this.setState({filters:t})}},{key:"updateMinEnties",value:function(e){var t=this;this.setState({minEntries:e},function(){return t.updateDataSourceMapping()})}},{key:"updateDataSourceMapping",value:function(){var e=this.props.data,t=this.state.minEntries;this.setState({dataChart:T(e,t)})}},{key:"componentDidMount",value:function(){this.updateDataSourceMapping()}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataChart,n=t.filters,l=t.minEntries;return r.a.createElement(j.a,{container:!0,spacing:3},r.a.createElement(j.a,{item:!0,xs:3},r.a.createElement("div",{style:{marginLeft:30}},r.a.createElement("h4",null,"Filters")),r.a.createElement(V,{options:R,statuses:this.state.filters,handleToggle:function(t){return e.handleToggle(t)}}),r.a.createElement(P,{value:l,onUpdate:function(t){return e.updateMinEnties(t)}})),r.a.createElement(j.a,{item:!0,xs:9},r.a.createElement("div",{style:{height:400}},r.a.createElement(O.h,null,r.a.createElement(O.e,{width:500,height:400,data:a,margin:{top:10,right:10,bottom:10,left:10}},r.a.createElement(O.d,{stroke:"#f5f5f5"}),r.a.createElement(O.j,{dataKey:"country"}),r.a.createElement(O.k,null),r.a.createElement(O.i,null),r.a.createElement(O.f,null),n.entries&&r.a.createElement(O.a,{type:"monotone",name:"Entries count",dataKey:"entries",fill:"#8884d8",stroke:"#8884d8"}),n.age&&r.a.createElement(O.b,{barSize:100,stackId:"age",name:"Up to 20 years",dataKey:"ageUp20",fill:"#669900"}),n.age&&r.a.createElement(O.b,{barSize:100,stackId:"age",name:"Up to 40 years",dataKey:"ageUp40",fill:"#009933"}),n.age&&r.a.createElement(O.b,{barSize:100,stackId:"age",name:"Up to 60 years",dataKey:"ageUp60",fill:"#006600"}),n.age&&r.a.createElement(O.b,{barSize:100,stackId:"age",name:"More than 60 years",dataKey:"ageMore60",fill:"#0000cc"}),n.familyHistory&&r.a.createElement(O.b,{barSize:75,name:"Family Mental Illness",dataKey:"familyMentalIllness",fill:"#669999"}),n.treatment&&r.a.createElement(O.b,{barSize:75,name:"In treatment",dataKey:"treatment",fill:"#ff9900"}),n.gender&&r.a.createElement(O.g,{type:"monotone",name:"Males",dataKey:"genderMale",stroke:"#3366ff"}),n.gender&&r.a.createElement(O.g,{type:"monotone",name:"Females",dataKey:"genderFemale",stroke:"#ff6699"}),n.gender&&r.a.createElement(O.g,{type:"monotone",name:"Other gender",dataKey:"genderUnknow",stroke:"#9999ff"}))))))}}]),t}(r.a.Component),Q=a(474),X=a(478),Z=a(477),ee=a(475),te=a(476),ae=function(e){function t(){return Object(u.a)(this,t),Object(y.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(Q.a,null,r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(Z.a,null,"Country"),r.a.createElement(Z.a,{align:"right"},"Gender"),r.a.createElement(Z.a,{align:"right"},"Age"),r.a.createElement(Z.a,{align:"right"},"Family History"),r.a.createElement(Z.a,{align:"right"},"Treatment"))),r.a.createElement(X.a,null,e.map(function(e){return r.a.createElement(te.a,{key:Math.random()},r.a.createElement(Z.a,{component:"th",scope:"row"},e.country),r.a.createElement(Z.a,{align:"right"},e.gender),r.a.createElement(Z.a,{align:"right"},e.age),r.a.createElement(Z.a,{align:"right"},e.family_history),r.a.createElement(Z.a,{align:"right"},e.treatment))})))}}]),t}(r.a.Component),ne=function(e){function t(){return Object(u.a)(this,t),Object(y.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data;return t?r.a.createElement(w.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement($,{data:a}),r.a.createElement("hr",null),r.a.createElement(k.a,{fixed:!0},r.a.createElement(ae,{data:a})))}}]),t}(r.a.Component),re=[{key:"canada",label:"Canada"},{key:"uk",label:"UK"},{key:"usa",label:"USA"}],le={canada:"Canada",uk:"United Kingdom",usa:"United States"},ie=["1-5","6-25","26-100","100-500","500-1000","More than 1000"],ce=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={employeesGroup:ie[0],filters:{canada:!0,uk:!0,usa:!0}},a.getSelectedCountriesArray=function(){var e=a.state.filters,t=[];for(var n in e)e[n]&&t.push(le[n]);return t},a.renderBarChart=function(e,t,a){return r.a.createElement("div",{style:{height:400}},r.a.createElement("div",{style:{marginLeft:30}},r.a.createElement("h5",null,e)),r.a.createElement(O.h,null,r.a.createElement(O.c,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(O.d,{strokeDasharray:"3 3"}),r.a.createElement(O.j,{dataKey:"country"}),r.a.createElement(O.k,null),r.a.createElement(O.i,null),r.a.createElement(O.f,null),a)))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleToggle",value:function(e){var t=this.state.filters;t[e]=!t[e],this.setState({filters:t})}},{key:"getDataFiltered",value:function(){var e=this.props.data,t=this.state.employeesGroup,a=this.getSelectedCountriesArray();return function(e,t){return e.filter(function(e){return t.includes(e.country)})}(function(e,t){return e.filter(function(e){return e.no_employees===t})}(e,t),a)}},{key:"render",value:function(){var e=this,t=this.props.loading,a=this.state.employeesGroup,n=this.getDataFiltered(),l=function(e){var t={};return e.forEach(function(e){t[e.country]||(t[e.country]=Object(C.a)({},M));var a=t[e.country];a.country=e.country,a.wellness_program+="Yes"===e.wellness_program?1:0,a.mental_health_consequence+="Yes"===e.mental_health_consequence?1:0}),F(t)}(n),i=function(e){var t={};return e.forEach(function(e){t[e.country]||(t[e.country]=Object(C.a)({},S));var a=t[e.country];a.country=e.country,a.care_options+="Yes"===e.care_options?1:0,a.tech_company+="Yes"===e.tech_company?1:0}),F(t)}(n),c=function(e){var t={};return e.forEach(function(e){t[e.country]||(t[e.country]=Object(C.a)({},x));var a=t[e.country];a.country=e.country,a.benefits_yes+="Yes"===e.benefits?1:0,a.benefits_no+="No"===e.benefits?1:0,a.benefits_dontknow+="Don't Know"===e.benefits?1:0}),F(t)}(n),o=function(e){var t={};return e.forEach(function(e){t[e.country]||(t[e.country]=Object(C.a)({},U));var a=t[e.country];a.country=e.country,a.mental_vs_physical_yes+="Yes"===e.mental_vs_physical?1:0,a.mental_vs_physical_no+="No"===e.mental_vs_physical?1:0,a.mental_vs_physical_dontknow+="Don't Know"===e.mental_vs_physical?1:0}),F(t)}(n),s=function(e){var t={};return e.forEach(function(e){t[e.country]||(t[e.country]=Object(C.a)({},D));var a=t[e.country];a.country=e.country,a.leave_easy+="Somewhat easy"===e.leave?1:0,a.leave_very_easy+="Very easy"===e.leave?1:0,a.leave_difficult+="Somewhat difficult"===e.leave?1:0,a.leave_very_difficult+="Very difficult"===e.leave?1:0,a.leave_dontknow+="Don't know"===e.leave?1:0}),F(t)}(n),u=[r.a.createElement(O.b,{dataKey:"wellness_program",key:"wellness_program",name:"Companies with wellness program",fill:"#8884d8"}),r.a.createElement(O.b,{dataKey:"mental_health_consequence",key:"mental_health_consequence",name:"Companies with mental health consequence",fill:"#f46b42"})],m=[r.a.createElement(O.b,{dataKey:"care_options",key:"care_options",name:"Have care options",fill:"#bfa35d"}),r.a.createElement(O.b,{dataKey:"tech_company",key:"tech_company",name:"Tech Companies",fill:"#5d81bf"})],y=[r.a.createElement(O.b,{dataKey:"benefits_yes",key:"benefits_yes",name:"Yes",fill:"#5dbf85"}),r.a.createElement(O.b,{dataKey:"benefits_no",key:"benefits_no",name:"No",fill:"#bf5d96"}),r.a.createElement(O.b,{dataKey:"benefits_dontknow",key:"benefits_dontknow",name:"Don't know",fill:"#54499b"})],f=[r.a.createElement(O.b,{dataKey:"mental_vs_physical_yes",key:"mental_vs_physical_yes",name:"Yes",fill:"#499b4a"}),r.a.createElement(O.b,{dataKey:"mental_vs_physical_no",key:"mental_vs_physical_no",name:"No",fill:"#9b497f"}),r.a.createElement(O.b,{dataKey:"mental_vs_physical_dontknow",key:"mental_vs_physical_dontknow",name:"Don't know",fill:"#52499b"})],h=[r.a.createElement(O.b,{dataKey:"leave_very_easy",key:"leave_very_easy",name:"Very easy",fill:"#82ca9d"}),r.a.createElement(O.b,{dataKey:"leave_easy",key:"leave_easy",name:"Somewhat easy",fill:"#99d1ff"}),r.a.createElement(O.b,{dataKey:"leave_difficult",key:"leave_difficult",name:"Somewhat difficult",fill:"#d18306"}),r.a.createElement(O.b,{dataKey:"leave_very_difficult",key:"leave_very_difficult",name:"Very difficult",fill:"#d12406"}),r.a.createElement(O.b,{dataKey:"leave_dontknow",key:"leave_dontknow",name:"Don't know",fill:"#ffc658"})];return t?r.a.createElement(w.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{options:re,statuses:this.state.filters,handleToggle:function(t){return e.handleToggle(t)}}),r.a.createElement("div",{className:"company-size",style:{padding:10}},r.a.createElement("label",null,"Company size:"),r.a.createElement(v.a,{value:a,autoWidth:!0,onChange:function(t){return e.setState({employeesGroup:t.target.value})}},ie.map(function(e){return r.a.createElement(g.a,{key:e,value:e},e)}))),r.a.createElement(j.a,{container:!0,spacing:3},r.a.createElement(j.a,{item:!0,xs:4},this.renderBarChart("Wellness Program vs Mental Health Consquence",l,u)),r.a.createElement(j.a,{item:!0,xs:4},this.renderBarChart("Do you know the options for mental health care your employer provides (Tech)",i,m)),r.a.createElement(j.a,{item:!0,xs:4},this.renderBarChart("Employeer have Mental Health benefits plan?",c,y)),r.a.createElement(j.a,{item:!0,xs:4},this.renderBarChart("Employer takes mental health as seriously as physical health?",o,f)),r.a.createElement(j.a,{item:!0,xs:4},this.renderBarChart("Is easy for you to take medical leave for a mental health condition?",s,h))))}}]),t}(r.a.Component),oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(y.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],limit:"All",loading:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchRemoteData();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchRemoteData",value:function(){var e=Object(s.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,this.setState({data:t,loading:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sliceData",value:function(e){var t=this.state.data;return"All"===e?t:t.slice(Math.max(0,e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.limit,n=t.loading,l=this.sliceData(a);return r.a.createElement(d.a,null,r.a.createElement(E.a,{position:"static",color:"default"},r.a.createElement(b.a,null,r.a.createElement(_.a,{style:se,variant:"h6",color:"inherit"},r.a.createElement(d.b,{to:"/"},"Home")),r.a.createElement(_.a,{style:se,variant:"h6",color:"inherit"},r.a.createElement(d.b,{to:"/details"},"Details")),r.a.createElement(_.a,{style:se,variant:"h6",color:"inherit"},r.a.createElement(v.a,{value:a,autoWidth:!0,onChange:function(t){return e.setState({limit:t.target.value})}},[100,500,"All"].map(function(e){return r.a.createElement(g.a,{key:e,value:e},e)}))))),r.a.createElement(p.a,{exact:!0,path:"/",component:function(){return r.a.createElement(ne,{limit:a,data:l,loading:n})}}),r.a.createElement(p.a,{path:"/details",component:function(){return r.a.createElement(ce,{limit:a,data:l,loading:n})}}))}}]),t}(r.a.Component),se={marginLeft:50};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[230,1,2]]]);
//# sourceMappingURL=main.0b89e467.chunk.js.map